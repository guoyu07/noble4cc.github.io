<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  




<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="C++," />





  <link rel="alternate" href="/atom.xml" title="noble4cc's Blog" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="####引言Http协议中文名字是超文本传输协议（超文本就是HTML）。设计之初是为了将超文本标记语言(HTML)文档从Web服务器传送到客户端的浏览器。现在http的作用已不局限于HTML的传输。比较重要的版本是Http1.0、Http1.1、Http2.0。Http的底层协议是TCP，默认端口是80。Http是无连接的无状态的，也就是说每次连接只处理一个请求。服务器处理完客户的请求，并收到客户">
<meta property="og:type" content="article">
<meta property="og:title" content="Http协议讲解">
<meta property="og:url" content="http://noble4cc.me/2014/12/21/HTTP-agreement-to-explain/index.html">
<meta property="og:site_name" content="noble4cc's Blog">
<meta property="og:description" content="####引言Http协议中文名字是超文本传输协议（超文本就是HTML）。设计之初是为了将超文本标记语言(HTML)文档从Web服务器传送到客户端的浏览器。现在http的作用已不局限于HTML的传输。比较重要的版本是Http1.0、Http1.1、Http2.0。Http的底层协议是TCP，默认端口是80。Http是无连接的无状态的，也就是说每次连接只处理一个请求。服务器处理完客户的请求，并收到客户">
<meta property="og:image" content="http://7xifuy.com1.z0.glb.clouddn.com/IBZ3ee.jpg">
<meta property="og:image" content="http://7xifuy.com1.z0.glb.clouddn.com/AviyMb.jpg">
<meta property="og:updated_time" content="2016-04-16T06:08:39.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Http协议讲解">
<meta name="twitter:description" content="####引言Http协议中文名字是超文本传输协议（超文本就是HTML）。设计之初是为了将超文本标记语言(HTML)文档从Web服务器传送到客户端的浏览器。现在http的作用已不局限于HTML的传输。比较重要的版本是Http1.0、Http1.1、Http2.0。Http的底层协议是TCP，默认端口是80。Http是无连接的无状态的，也就是说每次连接只处理一个请求。服务器处理完客户的请求，并收到客户">
<meta name="twitter:image" content="http://7xifuy.com1.z0.glb.clouddn.com/IBZ3ee.jpg">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'Author'
    }
  };
</script>

  <title> Http协议讲解 | noble4cc's Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">noble4cc's Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            Tags
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="#" class="st-search-show-outputs">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <form class="site-search-form">
  <input type="text" id="st-search-input" class="st-search-input st-default-search-input" />
</form>

<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
    (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
    e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v2/st.js','_st');

  _st('install', 'YxPPYqKD_-TcNtzFic5Q','2.0.0');
</script>



    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Http协议讲解
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2014-12-21T08:20:00+08:00" content="2014-12-21">
              2014-12-21
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index">
                    <span itemprop="name">C++</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2014/12/21/HTTP-agreement-to-explain/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2014/12/21/HTTP-agreement-to-explain/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>####引言<br>Http协议中文名字是超文本传输协议（超文本就是HTML）。设计之初是为了将超文本标记语言(HTML)文档从Web服务器传送到客户端的浏览器。现在http的作用已不局限于HTML的传输。比较重要的版本是Http1.0、Http1.1、Http2.0。Http的底层协议是TCP，默认端口是80。Http是无连接的无状态的，也就是说每次连接只处理一个请求。服务器处理完客户的请求，并收到客户的应答后，即断开连接协，议对于事务处理没有记忆能力，缺少状态意味着如果后续处理需要前面的信息，则它必须重传。<br><a id="more"></a></p>
<p>####URL<br>Http协议里面必须包含URL，URL是统一资源定位符，说起URL还有URI应该介绍一下。URI是统一资源标示符。这两者之间有什么区别呢？URI只是标示一个资源，URL既可以标示资源也提供访问这个资源的方式。也就是说URL是URI的一个子集，URL一定能访问到指定的资源（如果URL正确的话），但URI却不一定。其实URI不常用啦。<br>我们来看看一个完整的URL什么样：  </p>
<p><code>http://www.example.com/dir/test;id=123?name=tom&amp;age=18#stuff</code></p>
<ul>
<li>protocol: http</li>
<li>host: www.example.com</li>
<li>path: /dir/test</li>
<li>URL params: id=123</li>
<li>Query String: name=tom&amp;age=18</li>
<li>Anchor: stuff</li>
</ul>
<p>protocol：指定低层使用的协议(例如：http, https, ftp)<br>host：HTTP服务器的IP地址或者域名<br>port：HTTP服务器的默认端口是80，这种情况下端口号可以省略。如果使用了别的端口，必须指明，例如 <a href="http://www.example.com:8080/" target="_blank" rel="external">http://www.example.com:8080/</a><br>path：访问资源的路径<br>url-params :用于指定特殊参数的可选项<br>query-string：发送给http服务器的数据<br>anchor：锚,主要定位页面</p>
<p>####Http请求<br>Http请求会发送请求保温，Http请求报文由请求行、消息报头、请求正文三部分组成。</p>
<p><img src="http://7xifuy.com1.z0.glb.clouddn.com/IBZ3ee.jpg" alt="image description"></p>
<p>请求行以一个方法符号开头，以空格分开，后面跟着请求的URI和协议的版本，格式如下：<br><code>Method Request-URI HTTP-Version CRLF</code><br>CRLF表示回车和换行，就是回车(CR, ASCII 13, \r) 换行(LF, ASCII 10, \n)。<br>请求方法有很多种，但是常用的就GET个POST方法</p>
<ul>
<li>GET 请求获取 Request-URI 所标识的资源</li>
<li>POST 在 Request-URI 所标识的资源后附加新的数据</li>
<li>HEAD 请求获取由 Request-URI 所标识的资源的响应消息报头</li>
<li>PUT 请求服务器存储一个资源，并用 Request-URI 作为其标识</li>
<li>DELETE 请求服务器删除 Request-URI 所标识的资源</li>
<li>TRACE 请求服务器回送收到的请求信息，主要用于测试或诊断</li>
<li>CONNECT 保留将来使用</li>
<li>OPTIONS 请求查询服务器的性能，或者查询与资源相关的选项和需求<br>如果是通过浏览器的地址栏进行请求的话，就是GET请求，GET请求的话请求正文是没有的。通过网页表单请求，就是POST请求  </li>
</ul>
<p>GET和POST的区别：  </p>
<ul>
<li>GET 提交的数据会放在URL之后，以?分割URL和传输数据，参数之间以&amp;相连，如EditPosts.aspx?name=test1&amp;id=123456。POST 方法是把提交的数据放在HTTP包的Body中。</li>
<li>GET 提交的数据大小有限制（URL的长度有限制，协议虽然没有明确对URL长度限制，但是浏览器和服务器实际工作当中会限制长度），而POST方法提交的数据没有限制.</li>
<li>GET 方式需要使用Request.QueryString来取得变量的值，而POST方式通过Request.Form来获取变量的值。</li>
<li>GET 方式提交数据，会带来安全问题，比如一个登录页面，通过GET方式提交数据时，用户名和密码将出现在URL上，如果页面可以被缓存或者其他人可以访问这台机器，就可以从历史记录获得该用户的账号和密码. </li>
</ul>
<p>下面我们使用<a href="https://github.com/jkbrzt/httpie" target="_blank" rel="external">HTTPie</a>进行一下演示。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">GET / HTTP/1.1</span><br><span class="line">Accept: */*</span><br><span class="line">Accept-Encoding: gzip, deflate</span><br><span class="line">Connection: keep-alive</span><br><span class="line">Host: www.baidu.com</span><br><span class="line">User-Agent: HTTPie/0.9.3</span><br></pre></td></tr></table></figure>
<p>该请求报文中请求方法是GET，请求的资源标示是/也就是请求根目录。协议和版本是Http1.1</p>
<p>####Http响应<br>服务器在接受到一个Http请求后，会做出响应，返回一个Http响应报文。</p>
<p><img src="http://7xifuy.com1.z0.glb.clouddn.com/AviyMb.jpg" alt="image description"></p>
<p>Http响应表报文由状态行、消息报头、响应正文三部分组成。<br>状态行的格式如下：<br><code>HTTP-Version Status-Code Reason-Phrase CRLF</code><br>其中，HTTP-Version表示服务器HTTP协议的版本；<br>Status-Code表示服务器发回的响应状态代码；<br>Reason-Phrase表示状态代码的文本描述。<br>状态代码有三位数字组成，第一个数字定义了响应的类别，且有五种可能取值  </p>
<p><strong>2xx: 成功</strong><br>200 OK    请求成功（其后是对GET和POST请求的应答文档。）<br>201 Created    请求被创建完成，同时新的资源被创建。<br>202 Accepted    供处理的请求已被接受，但是处理未完成。<br><strong>3xx: 重定向</strong><br>300 Multiple Choices    多重选择。链接列表。用户可以选择某链接到达目的地。最多允许五个地址。<br>301 Moved Permanently    所请求的页面已经转移至新的url。<br>302 Found    所请求的页面已经临时转移至新的url。<br>303 See Other    所请求的页面可在别的url下被找到。<br>304 Not Modified    未按预期修改文档。客户端有缓冲的文档并发出了一个条件性的请求（一般是提供If-Modified-Since头表示客户只想比指定日期更新的文档）。服务器告诉客户，原来缓冲的文档还可以继续使用。<br><strong>4xx: 客户端错误</strong><br>400 Bad Request    服务器未能理解请求。<br>401 Unauthorized    被请求的页面需要用户名和密码。<br>402 Payment Required    此代码尚无法使用。<br>403 Forbidden    对被请求页面的访问被禁止。<br>404 Not Found    服务器无法找到被请求的页面。<br>405 Method Not Allowed    请求中指定的方法不被允许。  </p>
<p><strong>5xx: 服务器错误</strong><br>500 Internal Server Error    请求未完成。服务器遇到不可预知的情况。<br>501 Not Implemented    请求未完成。服务器不支持所请求的功能。<br>502 Bad Gateway    请求未完成。服务器从上游服务器收到一个无效的响应。<br>503 Service Unavailable    请求未完成。服务器临时过载或当机。<br>504 Gateway Timeout    网关超时。  </p>
<p>####Http报头<br>HTTP消息报头包括普通报头、请求报头、响应报头、实体报头。每一个报头域都是由名字+“：”+空格+值 组成，消息报头域的名字是大小写无关的。</p>
<p><strong>常规 header ：</strong><br><code>Cache-Control ：</code>用于指出请求/响应链上所有缓存必须服从的指令，它必须具有穿透各代理<br>和网关的能力。HTTP1.0 可能不支持该 header 和 Pragma：no-cache。<br><code>Connection ：</code>允许客户端指出希望特定连接的选项，且禁止由代理在将来的连接中通讯<br><code>Date ：</code>表示消息发生的日期和时间，与 RFC 822 中的 orig-date 语义一致<br><code>Pragma ：</code>用来包括实现特定的指令，可能应用到请求/响应链上所有接收方<br><code>Trailer ：</code>指出给出的头部域集合在以 chunked transfer-coding 编码的消息的尾部中存在<br><code>Transfer-Encoding ：</code>指出应用什么类型的转换到消息主体上，与 content-coding 不同，这不<br>是指定实体的属性而是消息的<br><code>Upgrade ：</code>允许客户端指出其支持的其他通讯协议，切愿意使用之，若服务器发现切换是可行的，必须在响应中回 101<br><code>Via ：</code>必须由网关或代理来指出请求中的UA和服务器、以及在响应中的原始服务器和客户端的中间协议和接收方。用于跟踪消息转发，避免请求循环<br><code>Warning ：</code>用户携带关于消息的状态和转换的额外信息，可能不在消息中反映。一般用于警告应用到消息实体上的缓存操作或转换缺少语义透明度<br><strong>请求 header：</strong><br><code>Accept ：</code>客户端指出响应可以接受的媒体类型<br><code>Accept-Charset ：</code>客户端指出响应可以接受的字符集<br><code>Accept-Encoding ：</code>客户端指出响应可以接受的字符编码<br><code>Accept-Language ：</code>客户端指出允许的语言<br><code>Authorization ：</code>客户端在受到 401 后，需要向服务器标明身份，包括此 header 即可<br><code>Cookie：</code>HTTP请求发送时，会把保存在该请求域名下的所有cookie值一起发送给web服务器。<br><code>Expect :</code>客户端指出要求的特殊服务器行为。若服务器无法满足，可以返回 417<br><code>From :</code>发出请求的用户的Email<br><code>Host :</code>客户端指出要请求的资源的因特网主机和端口号<br><code>If-Match :</code> 用于与方法一起使其条件化<br><code>If-Modified-Since :</code>用于方法使其条件化，如果请求的变量在本域指定的时间从来不曾修改过，则实体将不会从服务器返回，改为 304<br><code>If-None-Match :</code>用于与方法一起使其条件化<br><code>If-Range :</code>用于与方法一起使其条件化<br><code>If-Unmodified-Since :</code> 用于与方法一起使其条件化，如果请求的资源自 header 值时间以来未改变，则服务器执行该请求<br><code>Max-Forwards :</code>提供某种机制，TRACE 和 OPTIONS   方法用来限制可以转发给下个入界服务器<br>代理或网关的数量，相当于客户端跟踪请求链<br><code>Proxy-Authorization :</code>允许客户端向代理标识自己，该代理需要认证<br><code>Range :</code>字节范围，可以指定单个实体中单个字节范围或范围集<br><code>Referer :</code>允许服务器为感兴趣的资源、日志、优化缓存等生成向后链接清单<br><code>TE :</code>指出愿意在响应中接受任何扩展的 transfer-coding<br><code>User-Agent :</code>包含发起请求的用户代理（浏览器和 OS）的信息<br><strong>响应 header：</strong><br><code>Accept-Ranges ：</code>服务器指出对请求的资源可接受的范围，可以是字节数或 none<br><code>Age ：</code>HTTP 使用改header来传输从缓存服务器获取时的响应消息的估计年龄，是缓存服务器估计从响应产生或被原始服务器重新证实以来的总时间<br><code>Set-Cookie：</code>设置Http Cookie<br><code>ETag ：</code>提供所请求的实体标签的当前值<br><code>Location ：</code>用来重定向接收方到非 URI 的位置来完成请求。对于 201，Location 是由请求创建的新资源的标识<br><code>Proxy-Authenticate ：</code>该 header 必须作为 407 响应的一部分，指出认证方案和可应用到代理<br>的 URI 上的参数<br><code>Retry-After ：</code>能与 503 响应一起用于指出希望该服务对客户端可以维持多久，<br><code>Server ：</code>指出服务器使用的软件信息<br><code>Vary ：</code>  告诉下游代理是使用缓存响应还是从原始服务器请求<br><code>WWW-Authenticate ：</code>必须包括在401中，值至少有challenge组成，它指出认证方案和可应用到 URI 的参数<br><strong>实体 header：</strong><br><code>Allow ：</code>客户端指出对 URI 的资源允许的方法<br><code>Content-Encoding :</code>用作对 media-type 的修饰符，其值将必须应用到实体 body 上的额外内容编码。主要用来允许压缩而不丢失下层媒体类型标识<br><code>Content-Language :</code> 客户端指出自己所选的语言，指出目标观众对所封装实体的自然语言。这可能与实体 body 内所有语言相同<br><code>Content-Length ：</code>指出实体 body 按十进制数的字节流的尺寸<br><code>Content-Location ：</code>如果实体能从独立于请求 URI   的位置访问，则服务器可以提供该实体自己的位置<br><code>Content-MD5 ：</code>是实体 body 的 MD5 摘要，以便提供端到端的完整性检查<br><code>Content-Range ：</code>与实体 body的一部分一起发送，用来指定该部分body应用到全部 body的哪个地方<br><code>Content-Type ：</code>指出发送给接收方的实体 body 的媒体类型，媒体类型参见 IANA<br><code>Expires ：</code>指出响应被认为过期的日期/时间<br><code>Last-Modified ：</code>指出原始服务器认为该变量最后修改的日期和时间，确实意思取决于原是服务器的实现和资源的属性。对文件，可能只是文件系统内最后修改时间<br>extension-header ：允许客户端定义新的实体头，但是这些域可能无法未接受方识别</p>
<p>Http响应报头如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">HTTP/1.1 200 OK</span><br><span class="line">BDPAGETYPE: 1</span><br><span class="line">BDQID: 0xcd0245a700139af2</span><br><span class="line">BDUSERID: 0</span><br><span class="line">Cache-Control: private</span><br><span class="line">Connection: Keep-Alive</span><br><span class="line">Content-Encoding: gzip</span><br><span class="line">Content-Type: text/html; charset=utf-8</span><br><span class="line">Cxy_all: baidu+73cf74ccfaa722f3a137b93b04dd0db0</span><br><span class="line">Date: Fri, 19 Feb 2016 02:53:07 GMT</span><br><span class="line">Expires: Fri, 19 Feb 2016 02:52:57 GMT</span><br><span class="line">P3P: CP=&quot; OTI DSP COR IVA OUR IND COM &quot;</span><br><span class="line">Server: BWS/1.1</span><br><span class="line">Set-Cookie: BAIDUID=ECAD954834BCC8BB10388B1B954A181C:FG=1; expires=Thu, 31-Dec-37 23:55:55 GMT; max-age=2147483647; path=/; domain=.baidu.com</span><br><span class="line">Set-Cookie: BIDUPSID=ECAD954834BCC8BB10388B1B954A181C; expires=Thu, 31-Dec-37 23:55:55 GMT; max-age=2147483647; path=/; domain=.baidu.com</span><br><span class="line">Set-Cookie: PSTM=1455850387; expires=Thu, 31-Dec-37 23:55:55 GMT; max-age=2147483647; path=/; domain=.baidu.com</span><br><span class="line">Set-Cookie: BDSVRTM=0; path=/</span><br><span class="line">Set-Cookie: BD_HOME=0; path=/</span><br><span class="line">Set-Cookie: H_PS_PSSID=1452_18240_17949_17001_17073_15321_11764_10634; path=/; domain=.baidu.com</span><br><span class="line">Transfer-Encoding: chunked</span><br><span class="line">Vary: Accept-Encoding</span><br><span class="line">X-Powered-By: HPHP</span><br><span class="line">X-UA-Compatible: IE=Edge,chrome=1</span><br></pre></td></tr></table></figure></p>
<p>这是百度首页的响应报文的消息报头，其中也包含了很多自定的属性</p>
<p>####Cookie<br>说起Cookie想必大家都明白，这是一项很古老的技术，起源是Netscape的工程师用来实现购物车，在Netscape1.0时2就存在的技术。简单来讲cookie的在客户端存储一些文本，用来维护客户端的状态。<br>在Http协议中，返回报文通过报头中的Set-Cookie来设置cookie，格式如下：</p>
<p><code>Set-Cookie:value</code><br>value可以使用k=v的形式，中间使用分号做分隔。<br>当发送请求报文时，通过报头的Cookie发送cookie，形式如下:<br><code>Cookie : value</code><br>cookie可以设置失效的时间，超过改时间将会被浏览器删除，如果没有指定cookie的失效时间，当浏览器被关闭时cookie失效删除。</p>
<p>Cookie的缺点：  </p>
<ul>
<li>不安全, 这是最直接的一个原因, 因为 Cookie 是保存在客户端计算机上的, 因此很容易被修改, 从而导致访问服务器时应用程序的执行失败或者其他安全问题. </li>
<li>严重限制传送内容的大小, 这是最实现的一个原因, 大多数浏览器都限制 Cookie 的大小, 一般情况下都不能超过 4096 个字节, 因此传送的内容有限. </li>
<li>用户可控制 Cookie 的开启与停用: 这是最无奈的一个原因, 当用户设置其浏览器停止接收 Cookie时, 如此, 它便失去了作用. </li>
</ul>
<p>####Python中使用Http<br>在python中使用http请求是非常方便的，末尾可以使用requests包，非常方便的进行htpp访问。详情请看文档：<a href="http://cn.python-requests.org/zh_CN/latest/" target="_blank" rel="external">requests</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">r = requests.get(&apos;https://api.github.com/user&apos;, auth=(&apos;user&apos;, &apos;pass&apos;))</span><br><span class="line">r.status_code</span><br><span class="line">200</span><br><span class="line">r.headers[&apos;content-type&apos;]</span><br><span class="line">&apos;application/json; charset=utf8&apos;</span><br><span class="line">r.encoding</span><br><span class="line">&apos;utf-8&apos;</span><br><span class="line">r.text</span><br><span class="line">u&apos;&#123;&quot;type&quot;:&quot;User&quot;...&apos;</span><br><span class="line">&gt;&gt;&gt; r.json()</span><br><span class="line">&#123;u&apos;private_gists&apos;: 419, u&apos;total_private_repos&apos;: 77, ...&#125;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    
    <div>
      
        
      
    </div>

    <div>
      
        
      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/C/" rel="tag">#C++</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2014/12/21/cpp-function-pointer/" rel="next" title="C++笔记:C++函数指针">
                <i class="fa fa-chevron-left"></i> C++笔记:C++函数指针
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/02/23/Linux-Note-the-user/" rel="prev" title="Linux笔记-用户">
                Linux笔记-用户 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.png"
               alt="noble4cc" />
          <p class="site-author-name" itemprop="name">noble4cc</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">19</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">categories</span>
              
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <p class="post-toc-empty">This post does not have a Table of Contents</p>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">noble4cc</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  

    <script type="text/javascript">
      var disqus_shortname = 'noble4cc';
      var disqus_identifier = '2014/12/21/HTTP-agreement-to-explain/';
      var disqus_title = 'Http协议讲解';
      var disqus_url = 'http://noble4cc.me/2014/12/21/HTTP-agreement-to-explain/';

      function run_disqus_script(disqus_script){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }

      run_disqus_script('count.js');
      
        run_disqus_script('embed.js');
      
    </script>
  



  
  
  

  

  

</body>
</html>
